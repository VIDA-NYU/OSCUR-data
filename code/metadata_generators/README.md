# Metadata Generators

This folder contains CLI-compatible Python scripts for generating standardized metadata YAML files for each dataset in the OSCUR-data repository. Each script is tailored to a specific dataset and uses a shared metadata template to structure the output.

## Folder Structure

```
code/metadata_generators/
│
├── template_metadata.yaml         # YAML template used for generating all dataset metadata files
├── speed_humps.py                 # Script to generate metadata for the NYC Speed Humps dataset
├── raised_crosswalks.py           # Script to generate metadata for the NYC Raised Crosswalk dataset
├── NYC_vehicle_collisions.py      # Script to generate metadata for the NYC Vehicle Collisions dataset
├── 311.py                         # Script to generate metadata for the NYC 311 Complaints dataset
└── ...                            # Add one script per dataset as needed
```

## Usage

Each script can be executed independently from the command line. The required argument is `--dataset_id`, which identifies the dataset and names the output metadata file.

### To generate the metadata for:

The Speed Humps dataset:

```bash
python speed_humps.py --dataset_id jknp-skuy --data_name speed_humps
```

The Raised Crosswalk Locations dataset:

```bash
python raised_crosswalks.py --dataset_id uh2s-ftgh --data_name raised_crosswalks
```

The Motor Vehicle Collisions - Crashes dataset:

```bash
python NYC_vehicle_collisions.py --dataset_id h9gi-nx95 --data_name NYC_vehicle_collisions
```

The NYC 311 dataset:

```bash
python NYC_311.py --dataset_id jrb2-thup --data_name NYC_311
```




> The generated metadata files will follow the structure defined in `template_metadata.yaml` and can be saved in a `metadata/` directory or another specified output path.

## Template

The `template_metadata.yaml` file defines the schema and default structure for all metadata files. It ensures consistency across datasets, including spatial, temporal, access, and processing metadata.


## Note on Generated YAML Metadata Files
The metadata YAML files generated by the script provide an initial structured summary based on available dataset information from the NYC Open Data API or other sources, and your YAML template. However, some metadata fields may be incomplete or generic due to limited information in the source API.

Please review the generated YAML file carefully and manually fill in or update any missing or generic fields as needed.

Common fields that might require manual editing include:

- ``source_organization`` — official dataset owner or publisher

- ``update_frequency`` — actual dataset update intervals

- ``license`` — dataset licensing details

- ``integration_opportunities`` — recommended related datasets or joins

- ``map_algebra`` — suitability for rasterization, cell size, and interpolation method

- Any other dataset-specific descriptive or technical details

Ensuring these fields are complete and accurate will improve metadata quality and downstream usability.


## Contributing

To add a new dataset:
1. Duplicate one of the existing Python scripts (e.g., `speed_humps.py`).
2. Customize it to reflect the metadata fields relevant to the new dataset.
3. Add CLI instructions to this README for reproducibility.
